{%- comment -%}
  Parameters
  * name
  * label
  * aria_labelledby
  * type
  * value
  * autocorrect
  * autocapitalize
  * placeholder
  * show_placeholder
  * class
  * error
  * change
  * style
  * required
  * initial_value
  * initial_value_static
  * dynamic_name
  * validation
  * sr_only
  * ref
{%- endcomment -%}
{%- assign autocorrect = autocorrect | default: false -%}
{%- assign autocapitalize = autocapitalize | default: false -%}
{%- assign type = type | default: 'text' -%}
{%- assign placeholder = placeholder | default: '' -%}
{%- assign show_placeholder = show_placeholder | default: false -%}
{%- assign style = style | default: 'default' -%}

{%- if name != blank -%}
  <input
    is="text-input"
    {%- if change -%}v-on:change="{{- change -}}"{%- endif -%}
    {%- if label -%}
    label="{{- label -}}"
    aria-label="{{- label -}}"
    {%- endif -%}
    {%- if aria_labelledby -%}
      aria_labelledby="{{- aria_labelledby -}}"
    {%- endif -%}
    class="{{ class }}"
    modifier="{{- style -}}"
    type="{{- type -}}"
    {%- if dynamic_name -%}:{%- endif -%}name="{{- name -}}"
    {%- if show_placeholder -%}placeholder="{{- placeholder -}}"{%- endif -%}
    :autocorrect="{{- autocorrect -}}"
    :autocapitalize="{{- autocapitalize -}}"
    {%- if required -%}:required="true"{%- endif -%}
    {%- if validation -%}:validate-method="{{- validation -}}"{%- endif -%}
    {%- if initial_value -%}{%- unless initial_value_static -%}:initial-value-getter="{{- initial_value -}}"{%- endunless -%}{%- endif -%}
    {%- if initial_value and initial_value_static -%}:initial-value-getter="function () { return '{{- initial_value -}}'}"{%- endif -%}
    error={{ error | json}}
    {%- if ref -%}ref="{{- ref -}}"{%- endif -%}
    {%- if sr_only -%}:sr-only="true"{%- endif -%}/>
{%- else -%}
  <p class="p2 italic bold">Whoops! Looks like you missed a value for this field :)</p>
{%- endif -%}
