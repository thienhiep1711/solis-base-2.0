"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwknd_nation"] = self["webpackChunkwknd_nation"] || []).push([["src_scripts_modules_password_password_js"],{

/***/ "./src/scripts/modules/password/password.js":
/*!**************************************************!*\
  !*** ./src/scripts/modules/password/password.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ \"./node_modules/core-js/modules/es.array.map.js\");\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.js\");\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var body_scroll_lock__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! body-scroll-lock */ \"./node_modules/body-scroll-lock/lib/bodyScrollLock.min.js\");\n/* harmony import */ var body_scroll_lock__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(body_scroll_lock__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @shopify/theme-a11y */ \"./node_modules/@shopify/theme-a11y/theme-a11y.js\");\n/* harmony import */ var select_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! select-dom */ \"./node_modules/select-dom/index.js\");\n/* harmony import */ var select_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(select_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dom_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dom-event */ \"./node_modules/dom-event/index.js\");\n/* harmony import */ var dom_event__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dom_event__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var nanoajax__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! nanoajax */ \"./node_modules/nanoajax/index.js\");\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (el) {\n  return new (vue__WEBPACK_IMPORTED_MODULE_6___default())({\n    el: el,\n    data: function data() {\n      return {\n        showModal: false,\n        previouslyFocusedElement: '',\n        query: null,\n        error: false\n      };\n    },\n    watch: {\n      showModal: function showModal() {\n        var _this = this;\n\n        var focusElements = select_dom__WEBPACK_IMPORTED_MODULE_3___default().all('a, button, input', this.$refs.modal);\n        var inputEl = select_dom__WEBPACK_IMPORTED_MODULE_3___default()('.text-input__el', this.$refs.modal);\n\n        if (inputEl && focusElements) {\n          if (this.showModal) {\n            this.$nextTick(function () {\n              (0,_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_2__.trapFocus)(_this.$refs.modal, {\n                elementToFocus: inputEl\n              });\n            });\n          } else {\n            (0,_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_2__.removeTrapFocus)(this.$refs.modal);\n            this.$refs.openButton.focus();\n          }\n        }\n\n        focusElements.map(function (element) {\n          dom_event__WEBPACK_IMPORTED_MODULE_4___default()(element, 'keydown', function (e) {\n            if (e.keyCode === 27) {\n              _this.closeModal();\n            }\n          });\n        });\n      }\n    },\n    methods: {\n      openModal: function openModal() {\n        this.showModal = true;\n        (0,body_scroll_lock__WEBPACK_IMPORTED_MODULE_1__.disableBodyScroll)(document.body);\n      },\n      closeModal: function closeModal() {\n        this.showModal = false;\n        (0,body_scroll_lock__WEBPACK_IMPORTED_MODULE_1__.enableBodyScroll)(document.body);\n      },\n      onInputChange: function onInputChange(_ref) {\n        var value = _ref.value;\n        this.query = value;\n      },\n      submit: function submit() {\n        var _this2 = this;\n\n        nanoajax__WEBPACK_IMPORTED_MODULE_5__.ajax({\n          method: 'POST',\n          url: \"/password?password=\".concat(this.query),\n          cors: true\n        }, function (code, response) {\n          if (response.indexOf('data-password') > -1) {\n            _this2.error = true;\n            return;\n          }\n\n          _this2.$refs.storefront_password.submit();\n        });\n      }\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3Bhc3N3b3JkL3Bhc3N3b3JkLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFBQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkJBO0FBeUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBeEJBO0FBbkNBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93a25kLW5hdGlvbi8uL3NyYy9zY3JpcHRzL21vZHVsZXMvcGFzc3dvcmQvcGFzc3dvcmQuanM/NGZkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcbmltcG9ydCB7IGVuYWJsZUJvZHlTY3JvbGwsIGRpc2FibGVCb2R5U2Nyb2xsIH0gZnJvbSAnYm9keS1zY3JvbGwtbG9jaydcbmltcG9ydCB7IHRyYXBGb2N1cywgcmVtb3ZlVHJhcEZvY3VzIH0gZnJvbSAnQHNob3BpZnkvdGhlbWUtYTExeSdcbmltcG9ydCBzZWxlY3QgZnJvbSAnc2VsZWN0LWRvbSdcbmltcG9ydCBvbiBmcm9tICdkb20tZXZlbnQnXG5pbXBvcnQgbmFub2FqYXggZnJvbSAnbmFub2FqYXgnXG5cbmV4cG9ydCBkZWZhdWx0IGVsID0+IG5ldyBWdWUoe1xuICBlbCxcbiAgZGF0YSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dNb2RhbDogZmFsc2UsXG4gICAgICBwcmV2aW91c2x5Rm9jdXNlZEVsZW1lbnQ6ICcnLFxuICAgICAgcXVlcnk6IG51bGwsXG4gICAgICBlcnJvcjogZmFsc2VcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgc2hvd01vZGFsICgpIHtcbiAgICAgIGNvbnN0IGZvY3VzRWxlbWVudHMgPSBzZWxlY3QuYWxsKCdhLCBidXR0b24sIGlucHV0JywgdGhpcy4kcmVmcy5tb2RhbClcbiAgICAgIGNvbnN0IGlucHV0RWwgPSBzZWxlY3QoJy50ZXh0LWlucHV0X19lbCcsIHRoaXMuJHJlZnMubW9kYWwpXG4gICAgICBpZiAoaW5wdXRFbCAmJiBmb2N1c0VsZW1lbnRzKSB7XG4gICAgICAgIGlmICh0aGlzLnNob3dNb2RhbCkge1xuICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRyYXBGb2N1cyh0aGlzLiRyZWZzLm1vZGFsLCB7XG4gICAgICAgICAgICAgIGVsZW1lbnRUb0ZvY3VzOiBpbnB1dEVsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVtb3ZlVHJhcEZvY3VzKHRoaXMuJHJlZnMubW9kYWwpXG4gICAgICAgICAgdGhpcy4kcmVmcy5vcGVuQnV0dG9uLmZvY3VzKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9jdXNFbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IHtcbiAgICAgICAgb24oZWxlbWVudCwgJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgb3Blbk1vZGFsICgpIHtcbiAgICAgIHRoaXMuc2hvd01vZGFsID0gdHJ1ZVxuICAgICAgZGlzYWJsZUJvZHlTY3JvbGwoZG9jdW1lbnQuYm9keSlcbiAgICB9LFxuICAgIGNsb3NlTW9kYWwgKCkge1xuICAgICAgdGhpcy5zaG93TW9kYWwgPSBmYWxzZVxuICAgICAgZW5hYmxlQm9keVNjcm9sbChkb2N1bWVudC5ib2R5KVxuICAgIH0sXG4gICAgb25JbnB1dENoYW5nZSAoe3ZhbHVlfSkge1xuICAgICAgdGhpcy5xdWVyeSA9IHZhbHVlXG4gICAgfSxcbiAgICBzdWJtaXQgKCkge1xuICAgICAgbmFub2FqYXguYWpheCh7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICB1cmw6IGAvcGFzc3dvcmQ/cGFzc3dvcmQ9JHt0aGlzLnF1ZXJ5fWAsXG4gICAgICAgIGNvcnM6IHRydWVcbiAgICAgIH0sIChjb2RlLCByZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2UuaW5kZXhPZignZGF0YS1wYXNzd29yZCcpID4gLTEpIHtcbiAgICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHJlZnMuc3RvcmVmcm9udF9wYXNzd29yZC5zdWJtaXQoKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn0pXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/modules/password/password.js\n");

/***/ })

}]);