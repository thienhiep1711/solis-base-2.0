"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwknd_nation"] = self["webpackChunkwknd_nation"] || []).push([["src_scripts_modules_viral-loops_viral-loops_js"],{

/***/ "./src/scripts/modules/viral-loops/viral-loops.js":
/*!********************************************************!*\
  !*** ./src/scripts/modules/viral-loops/viral-loops.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ \"./node_modules/core-js/modules/es.array.map.js\");\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.js\");\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var select_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! select-dom */ \"./node_modules/select-dom/index.js\");\n/* harmony import */ var select_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(select_dom__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var dom_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dom-event */ \"./node_modules/dom-event/index.js\");\n/* harmony import */ var dom_event__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dom_event__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (el) {\n  return new (vue__WEBPACK_IMPORTED_MODULE_6___default())({\n    el: el,\n    data: function data() {\n      return {\n        isIdentified: false,\n        isFormLoading: true,\n        isMilestonesLoading: true\n      };\n    },\n    methods: {\n      isValidEmail: function isValidEmail(_ref) {\n        var value = _ref.value;\n        var emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n        if (value === '' || !emailRegex.test(value)) {\n          return false;\n        }\n\n        return true;\n      },\n      signUp: function signUp() {\n        // validate\n        var isValid = this.$children.filter(function (c) {\n          return typeof c.validate !== 'undefined';\n        }).map(function (c) {\n          return c.validate();\n        }).every(function (res) {\n          return res;\n        });\n\n        if (isValid) {\n          if (window.campaign) {\n            window.campaign.identify({\n              firstname: this.$refs.firstName ? this.$refs.firstName.$refs.input.value : '',\n              lastname: this.$refs.lastName ? this.$refs.lastName.$refs.input.value : '',\n              email: this.$refs.email.$refs.input.value\n            }, function () {\n              window.location.href = window.location.href;\n            });\n          }\n        }\n      },\n      setIdentified: function setIdentified() {\n        if (window.campaign) {\n          this.updateLoadingStatus();\n\n          if (window.campaign.identified) {\n            this.isIdentified = true;\n          }\n        }\n      },\n      updateLoadingStatus: function updateLoadingStatus() {\n        var _this = this;\n\n        var formIframe = select_dom__WEBPACK_IMPORTED_MODULE_4___default()('iframe', this.$refs.formWrapper);\n        var milestonesIframe = select_dom__WEBPACK_IMPORTED_MODULE_4___default()('iframe', this.$refs.formWrapper);\n\n        if (formIframe) {\n          dom_event__WEBPACK_IMPORTED_MODULE_5___default()(formIframe, 'load', function () {\n            _this.isFormLoading = false;\n          });\n          setTimeout(function () {\n            _this.isFormLoading = false;\n          }, 1000);\n        }\n\n        if (milestonesIframe) {\n          dom_event__WEBPACK_IMPORTED_MODULE_5___default()(milestonesIframe, 'load', function () {\n            _this.isMilestonesLoading = false;\n          });\n          setTimeout(function () {\n            _this.isMilestonesLoading = false;\n          }, 1000);\n        }\n      }\n    },\n    mounted: function mounted() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        if (window.campaign) {\n          _this2.setIdentified();\n        } else {\n          setTimeout(_this2.setIdentified, 500);\n        }\n      }, 200);\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3ZpcmFsLWxvb3BzL3ZpcmFsLWxvb3BzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0RBO0FBK0RBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhGQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2tuZC1uYXRpb24vLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3ZpcmFsLWxvb3BzL3ZpcmFsLWxvb3BzLmpzP2IyYWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG5pbXBvcnQgc2VsZWN0IGZyb20gJ3NlbGVjdC1kb20nXG5pbXBvcnQgb24gZnJvbSAnZG9tLWV2ZW50J1xuXG5leHBvcnQgZGVmYXVsdCBlbCA9PiBuZXcgVnVlKHtcbiAgZWwsXG4gIGRhdGEgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0lkZW50aWZpZWQ6IGZhbHNlLFxuICAgICAgaXNGb3JtTG9hZGluZzogdHJ1ZSxcbiAgICAgIGlzTWlsZXN0b25lc0xvYWRpbmc6IHRydWVcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBpc1ZhbGlkRW1haWwgKHsgdmFsdWUgfSkge1xuICAgICAgY29uc3QgZW1haWxSZWdleCA9IC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkL1xuXG4gICAgICBpZiAodmFsdWUgPT09ICcnIHx8ICFlbWFpbFJlZ2V4LnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG4gICAgc2lnblVwICgpIHtcbiAgICAgIC8vIHZhbGlkYXRlXG4gICAgICBjb25zdCBpc1ZhbGlkID0gdGhpcy4kY2hpbGRyZW5cbiAgICAgICAgLmZpbHRlcihjID0+ICh0eXBlb2YgYy52YWxpZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpKVxuICAgICAgICAubWFwKGMgPT4gYy52YWxpZGF0ZSgpKVxuICAgICAgICAuZXZlcnkocmVzID0+IHJlcylcblxuICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5jYW1wYWlnbikge1xuICAgICAgICAgIHdpbmRvdy5jYW1wYWlnbi5pZGVudGlmeSh7XG4gICAgICAgICAgICBmaXJzdG5hbWU6IHRoaXMuJHJlZnMuZmlyc3ROYW1lID8gdGhpcy4kcmVmcy5maXJzdE5hbWUuJHJlZnMuaW5wdXQudmFsdWUgOiAnJyxcbiAgICAgICAgICAgIGxhc3RuYW1lOiB0aGlzLiRyZWZzLmxhc3ROYW1lID8gdGhpcy4kcmVmcy5sYXN0TmFtZS4kcmVmcy5pbnB1dC52YWx1ZSA6ICcnLFxuICAgICAgICAgICAgZW1haWw6IHRoaXMuJHJlZnMuZW1haWwuJHJlZnMuaW5wdXQudmFsdWVcbiAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc2V0SWRlbnRpZmllZCAoKSB7XG4gICAgICBpZiAod2luZG93LmNhbXBhaWduKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTG9hZGluZ1N0YXR1cygpXG5cbiAgICAgICAgaWYgKHdpbmRvdy5jYW1wYWlnbi5pZGVudGlmaWVkKSB7XG4gICAgICAgICAgdGhpcy5pc0lkZW50aWZpZWQgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZUxvYWRpbmdTdGF0dXMgKCkge1xuICAgICAgY29uc3QgZm9ybUlmcmFtZSA9IHNlbGVjdCgnaWZyYW1lJywgdGhpcy4kcmVmcy5mb3JtV3JhcHBlcilcbiAgICAgIGNvbnN0IG1pbGVzdG9uZXNJZnJhbWUgPSBzZWxlY3QoJ2lmcmFtZScsIHRoaXMuJHJlZnMuZm9ybVdyYXBwZXIpXG5cbiAgICAgIGlmIChmb3JtSWZyYW1lKSB7XG4gICAgICAgIG9uKGZvcm1JZnJhbWUsICdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaXNGb3JtTG9hZGluZyA9IGZhbHNlXG4gICAgICAgIH0pXG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5pc0Zvcm1Mb2FkaW5nID0gZmFsc2VcbiAgICAgICAgfSwgMTAwMClcbiAgICAgIH1cblxuICAgICAgaWYgKG1pbGVzdG9uZXNJZnJhbWUpIHtcbiAgICAgICAgb24obWlsZXN0b25lc0lmcmFtZSwgJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5pc01pbGVzdG9uZXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgfSlcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmlzTWlsZXN0b25lc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICB9LCAxMDAwKVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbW91bnRlZCAoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAod2luZG93LmNhbXBhaWduKSB7XG4gICAgICAgIHRoaXMuc2V0SWRlbnRpZmllZCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMuc2V0SWRlbnRpZmllZCwgNTAwKVxuICAgICAgfVxuICAgIH0sIDIwMClcbiAgfVxufSlcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/modules/viral-loops/viral-loops.js\n");

/***/ })

}]);