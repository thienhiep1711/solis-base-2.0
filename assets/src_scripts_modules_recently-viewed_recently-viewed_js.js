"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwknd_nation"] = self["webpackChunkwknd_nation"] || []).push([["src_scripts_modules_recently-viewed_recently-viewed_js"],{

/***/ "./src/scripts/modules/recently-viewed/recently-viewed.js":
/*!****************************************************************!*\
  !*** ./src/scripts/modules/recently-viewed/recently-viewed.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ \"./node_modules/core-js/modules/es.string.match.js\");\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.string.split.js */ \"./node_modules/core-js/modules/es.string.split.js\");\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ \"./node_modules/core-js/modules/es.array.join.js\");\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ \"./node_modules/core-js/modules/es.array.concat.js\");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"./node_modules/core-js/modules/es.number.constructor.js\");\n/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.js\");\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var cookies_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cookies-js */ \"./node_modules/cookies-js/dist/cookies.js\");\n/* harmony import */ var cookies_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cookies_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var nanoajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! nanoajax */ \"./node_modules/nanoajax/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (el) {\n  var url = document.location.href;\n  var product = url.match(/\\/products\\/([a-zA-Z1-9]*)/i);\n\n  if (product && product[1]) {\n    var variantSKU = el.getAttribute('data-sku');\n    var cook = cookies_js__WEBPACK_IMPORTED_MODULE_8___default().get('recently_viewed');\n    var variantSKUs = (cook || '').split('|');\n\n    if (!~variantSKUs.indexOf(variantSKU)) {\n      variantSKUs.push(variantSKU);\n    }\n\n    cookies_js__WEBPACK_IMPORTED_MODULE_8___default().set('recently_viewed', variantSKUs.join('|'), {\n      expires: 31\n    });\n    return;\n  }\n\n  return new (vue__WEBPACK_IMPORTED_MODULE_10___default())({\n    el: el,\n    data: function data() {\n      return {\n        products: []\n      };\n    },\n    mounted: function mounted() {\n      var _this = this;\n\n      var host = \"//\".concat(window.location.host);\n      var skus = cookies_js__WEBPACK_IMPORTED_MODULE_8___default().get('recently_viewed') || false;\n      var q = (skus || '').split('|').filter(function (sku) {\n        return !!sku;\n      }).join(' OR ');\n      nanoajax__WEBPACK_IMPORTED_MODULE_9__.ajax({\n        url: \"\".concat(host, \"/search?view=recently-viewed-endpoint&q=\").concat(q, \"&type=product\"),\n        method: 'GET',\n        cors: true\n      }, function (code, res) {\n        if (Number(code) !== 200) {\n          return;\n        }\n\n        var decoded = JSON.parse(res);\n        _this.products = decoded.products || [];\n\n        _this.showModule();\n      });\n    },\n    methods: {\n      showModule: function showModule() {\n        this.$el.classList.remove('hide');\n      }\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3JlY2VudGx5LXZpZXdlZC9yZWNlbnRseS12aWV3ZWQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUE3QkE7QUFtQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93a25kLW5hdGlvbi8uL3NyYy9zY3JpcHRzL21vZHVsZXMvcmVjZW50bHktdmlld2VkL3JlY2VudGx5LXZpZXdlZC5qcz81MGQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWdWUgZnJvbSAndnVlJ1xuaW1wb3J0IENvb2tpZXMgZnJvbSAnY29va2llcy1qcydcbmltcG9ydCBuYW5vYWpheCBmcm9tICduYW5vYWpheCdcblxuZXhwb3J0IGRlZmF1bHQgZWwgPT4ge1xuICBjb25zdCB1cmwgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmXG4gIGNvbnN0IHByb2R1Y3QgPSB1cmwubWF0Y2goL1xcL3Byb2R1Y3RzXFwvKFthLXpBLVoxLTldKikvaSlcblxuICBpZiAocHJvZHVjdCAmJiBwcm9kdWN0WzFdKSB7XG4gICAgY29uc3QgdmFyaWFudFNLVSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1za3UnKVxuICAgIGNvbnN0IGNvb2sgPSBDb29raWVzLmdldCgncmVjZW50bHlfdmlld2VkJylcbiAgICBjb25zdCB2YXJpYW50U0tVcyA9IChjb29rIHx8ICcnKS5zcGxpdCgnfCcpXG4gICAgaWYgKCF+dmFyaWFudFNLVXMuaW5kZXhPZih2YXJpYW50U0tVKSkge1xuICAgICAgdmFyaWFudFNLVXMucHVzaCh2YXJpYW50U0tVKVxuICAgIH1cbiAgICBDb29raWVzLnNldCgncmVjZW50bHlfdmlld2VkJywgdmFyaWFudFNLVXMuam9pbignfCcpLCB7ZXhwaXJlczogMzF9KVxuICAgIHJldHVyblxuICB9XG5cbiAgcmV0dXJuIG5ldyBWdWUoe1xuICAgIGVsLFxuICAgIGRhdGEgKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJvZHVjdHM6IFtdXG4gICAgICB9XG4gICAgfSxcbiAgICBtb3VudGVkICgpIHtcbiAgICAgIGNvbnN0IGhvc3QgPSBgLy8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fWBcbiAgICAgIGNvbnN0IHNrdXMgPSBDb29raWVzLmdldCgncmVjZW50bHlfdmlld2VkJykgfHwgZmFsc2VcbiAgICAgIGNvbnN0IHEgPSAoc2t1cyB8fCAnJylcbiAgICAgICAgLnNwbGl0KCd8JylcbiAgICAgICAgLmZpbHRlcihza3UgPT4gISFza3UpXG4gICAgICAgIC5qb2luKCcgT1IgJylcbiAgICAgIG5hbm9hamF4LmFqYXgoe1xuICAgICAgICB1cmw6IGAke2hvc3R9L3NlYXJjaD92aWV3PXJlY2VudGx5LXZpZXdlZC1lbmRwb2ludCZxPSR7cX0mdHlwZT1wcm9kdWN0YCxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgY29yczogdHJ1ZVxuICAgICAgfSwgKGNvZGUsIHJlcykgPT4ge1xuICAgICAgICBpZiAoTnVtYmVyKGNvZGUpICE9PSAyMDApIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBKU09OLnBhcnNlKHJlcylcbiAgICAgICAgdGhpcy5wcm9kdWN0cyA9IGRlY29kZWQucHJvZHVjdHMgfHwgW11cblxuICAgICAgICB0aGlzLnNob3dNb2R1bGUoKVxuICAgICAgfSlcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIHNob3dNb2R1bGUgKCkge1xuICAgICAgICB0aGlzLiRlbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/modules/recently-viewed/recently-viewed.js\n");

/***/ })

}]);