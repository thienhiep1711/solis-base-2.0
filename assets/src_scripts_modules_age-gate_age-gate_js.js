"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwknd_nation"] = self["webpackChunkwknd_nation"] || []).push([["src_scripts_modules_age-gate_age-gate_js"],{

/***/ "./src/scripts/modules/age-gate/age-gate.js":
/*!**************************************************!*\
  !*** ./src/scripts/modules/age-gate/age-gate.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var select_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! select-dom */ \"./node_modules/select-dom/index.js\");\n/* harmony import */ var select_dom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(select_dom__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dom_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dom-event */ \"./node_modules/dom-event/index.js\");\n/* harmony import */ var dom_event__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dom_event__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lib_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/util */ \"./src/scripts/lib/util.js\");\n\n\n\nvar doc = document.documentElement;\nvar form = select_dom__WEBPACK_IMPORTED_MODULE_0___default()('.js-age-gate-form');\n\nvar activateAgeGate = function activateAgeGate(el) {\n  doc.classList.add('js-age-gate-active');\n  var minAge = parseInt(el.dataset.minAge);\n  if (form) dom_event__WEBPACK_IMPORTED_MODULE_1___default()(form, 'submit', submitBirthday(el, minAge));\n};\n\nvar deactivateAgeGate = function deactivateAgeGate(el) {\n  doc.classList.remove('js-age-gate');\n  doc.classList.remove('js-age-gate-active');\n  setTimeout(function () {\n    (0,lib_util__WEBPACK_IMPORTED_MODULE_2__.removeElement)(el);\n  }, 500);\n  localStorage.setItem('age_gate', '1');\n};\n\nvar submitBirthday = function submitBirthday(el, minAge) {\n  return function (e) {\n    e.preventDefault();\n    var month = parseInt(select_dom__WEBPACK_IMPORTED_MODULE_0___default()('[name=\"month\"]', e.target).value) - 1; // JavaScript counts months from 0 to 11.\n\n    var day = parseInt(select_dom__WEBPACK_IMPORTED_MODULE_0___default()('[name=\"day\"]', e.target).value);\n    var year = parseInt(select_dom__WEBPACK_IMPORTED_MODULE_0___default()('[name=\"year\"]', e.target).value);\n    var birthday = new Date(year, month, day);\n\n    if (isLegal(minAge, birthday)) {\n      deactivateAgeGate(el);\n    } else {\n      doc.classList.add('has-error');\n    }\n  };\n};\n\nvar isLegal = function isLegal(minAge, birthday) {\n  var legalDate = new Date();\n  legalDate.setFullYear(legalDate.getFullYear() - minAge);\n  return birthday <= legalDate;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (el) {\n  if (doc.classList.contains('js-age-gate') && localStorage.getItem('age_gate') !== '1') {\n    activateAgeGate(el);\n    el.focus();\n    (0,lib_util__WEBPACK_IMPORTED_MODULE_2__.trapFocus)(el);\n  } else {\n    deactivateAgeGate(el);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2FnZS1nYXRlL2FnZS1nYXRlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3drbmQtbmF0aW9uLy4vc3JjL3NjcmlwdHMvbW9kdWxlcy9hZ2UtZ2F0ZS9hZ2UtZ2F0ZS5qcz8xMmRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZWxlY3QgZnJvbSAnc2VsZWN0LWRvbSdcbmltcG9ydCBvbiBmcm9tICdkb20tZXZlbnQnXG5pbXBvcnQgeyB0cmFwRm9jdXMsIHJlbW92ZUVsZW1lbnQgfSBmcm9tICdsaWIvdXRpbCdcblxuY29uc3QgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG5jb25zdCBmb3JtID0gc2VsZWN0KCcuanMtYWdlLWdhdGUtZm9ybScpXG5cbmNvbnN0IGFjdGl2YXRlQWdlR2F0ZSA9IChlbCkgPT4ge1xuICBkb2MuY2xhc3NMaXN0LmFkZCgnanMtYWdlLWdhdGUtYWN0aXZlJylcblxuICBjb25zdCBtaW5BZ2UgPSBwYXJzZUludChlbC5kYXRhc2V0Lm1pbkFnZSlcblxuICBpZiAoZm9ybSkgb24oZm9ybSwgJ3N1Ym1pdCcsIHN1Ym1pdEJpcnRoZGF5KGVsLCBtaW5BZ2UpKVxufVxuXG5jb25zdCBkZWFjdGl2YXRlQWdlR2F0ZSA9IChlbCkgPT4ge1xuICBkb2MuY2xhc3NMaXN0LnJlbW92ZSgnanMtYWdlLWdhdGUnKVxuICBkb2MuY2xhc3NMaXN0LnJlbW92ZSgnanMtYWdlLWdhdGUtYWN0aXZlJylcblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICByZW1vdmVFbGVtZW50KGVsKVxuICB9LCA1MDApXG5cbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FnZV9nYXRlJywgJzEnKVxufVxuXG5jb25zdCBzdWJtaXRCaXJ0aGRheSA9IChlbCwgbWluQWdlKSA9PiB7XG4gIHJldHVybiBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGNvbnN0IG1vbnRoID0gcGFyc2VJbnQoc2VsZWN0KCdbbmFtZT1cIm1vbnRoXCJdJywgZS50YXJnZXQpLnZhbHVlKSAtIDEgLy8gSmF2YVNjcmlwdCBjb3VudHMgbW9udGhzIGZyb20gMCB0byAxMS5cbiAgICBjb25zdCBkYXkgPSBwYXJzZUludChzZWxlY3QoJ1tuYW1lPVwiZGF5XCJdJywgZS50YXJnZXQpLnZhbHVlKVxuICAgIGNvbnN0IHllYXIgPSBwYXJzZUludChzZWxlY3QoJ1tuYW1lPVwieWVhclwiXScsIGUudGFyZ2V0KS52YWx1ZSlcbiAgICBjb25zdCBiaXJ0aGRheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpXG5cbiAgICBpZiAoaXNMZWdhbChtaW5BZ2UsIGJpcnRoZGF5KSkge1xuICAgICAgZGVhY3RpdmF0ZUFnZUdhdGUoZWwpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5jbGFzc0xpc3QuYWRkKCdoYXMtZXJyb3InKVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBpc0xlZ2FsID0gKG1pbkFnZSwgYmlydGhkYXkpID0+IHtcbiAgY29uc3QgbGVnYWxEYXRlID0gbmV3IERhdGUoKVxuICBsZWdhbERhdGUuc2V0RnVsbFllYXIobGVnYWxEYXRlLmdldEZ1bGxZZWFyKCkgLSBtaW5BZ2UpXG5cbiAgcmV0dXJuIGJpcnRoZGF5IDw9IGxlZ2FsRGF0ZVxufVxuXG5leHBvcnQgZGVmYXVsdCAoZWwpID0+IHtcbiAgaWYgKGRvYy5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLWFnZS1nYXRlJykgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FnZV9nYXRlJykgIT09ICcxJykge1xuICAgIGFjdGl2YXRlQWdlR2F0ZShlbClcbiAgICBlbC5mb2N1cygpXG4gICAgdHJhcEZvY3VzKGVsKVxuICB9IGVsc2Uge1xuICAgIGRlYWN0aXZhdGVBZ2VHYXRlKGVsKVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/modules/age-gate/age-gate.js\n");

/***/ })

}]);